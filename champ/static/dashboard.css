/* Teal Blue + White theme */
:root {
    /* Core */
    --bg:#ffffff;              /* page background (white) */
    --fg:#0f172a;              /* primary text (slate-900) */
    --muted:#64748b;           /* secondary text (slate-500) */
  
    /* Teal Blue scale (blue-leaning teal) */
    --teal-50:#effdfb;
    --teal-100:#c9fbf3;
    --teal-200:#97f3e7;
    --teal-300:#62e7da;
    --teal-400:#36d6cc;
    --teal-500:#15c2bf;        /* mid teal-blue */
    --teal-600:#0fa7b6;        /* teal-blue primary accent */
    --teal-700:#0b86a0;        /* darker teal-blue for hovers */
  
    /* Surfaces */
    --card:#ffffff;
    --border:#e2e8f0;          /* slate-200 */
    --accent:var(--teal-600);  /* buttons/links/focus */
    --accent-contrast:#ffffff; /* text on accent */
  
    /* States */
    --success:#10b981;         /* green accent if needed */
    --danger:#ef4444;          /* red */
    --focus-ring: 0 0 0 3px rgba(15,167,182,0.35);
  }
  
  * { box-sizing: border-box; }
  html, body {
    margin: 0; padding: 0; height: 100%;
    background: var(--bg); color: var(--fg);
    font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  }
  
  #app { display: flex; flex-direction: column; height: 100%; }
  
  /* Header */
  header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 12px 16px;
    background: var(--teal-50);
    border-bottom: 1px solid var(--border);
  }
  h1 { font-size: 18px; margin: 0; color: var(--fg); }
  
  .user-panel { display: flex; gap: 8px; align-items: center; }
  .user-panel label { color: var(--muted); font-size: 12px; }
  .user-panel input {
    width: 80px; padding: 6px 8px;
    background: #fff; color: var(--fg);
    border: 1px solid var(--border); border-radius: 8px;
  }
  .user-panel button {
    background: var(--accent); color: var(--accent-contrast);
    border: 0; padding: 6px 10px; border-radius: 8px; cursor: pointer;
    box-shadow: 0 1px 0 rgba(2,6,23,0.06);
  }
  .user-panel button:hover { background: var(--teal-700); }
  .user-panel button:focus { outline: none; box-shadow: var(--focus-ring); }
  
  /* Layout */
  main {
    flex: 1; display: grid; grid-template-columns: 1.4fr 1fr;
    gap: 12px; padding: 12px;
  }
  #left, #right { height: calc(100vh - 64px); overflow: hidden; }
  
  /* Chat */
  #chat {
    display: flex; flex-direction: column; height: 100%;
    background: var(--card); border-radius: 12px; border: 1px solid var(--border);
  }
  #messages { flex: 1; padding: 12px; overflow-y: auto; }
  
  .msg { margin-bottom: 12px; }
  .msg .who { font-size: 12px; color: var(--muted); margin-bottom: 4px; }
  .msg .bubble {
    background: #f8ffff; /* subtle blue-white */
    border: 1px solid var(--border);
    padding: 10px 12px; border-radius: 10px; white-space: pre-wrap; line-height: 1.4;
    color: var(--fg);
  }
  
  /* Composer */
  #composer { padding: 10px; border-top: 1px solid var(--border); }
  #quick-prompts { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 8px; }
  #quick-prompts button {
    background: #fff; color: var(--fg);
    border: 1px solid var(--border); border-radius: 8px; padding: 6px 8px; cursor: pointer;
  }
  #quick-prompts button:hover { border-color: var(--accent); color: var(--accent); }
  
  #input {
    width: 100%; resize: vertical; min-height: 60px;
    background: #fff; color: var(--fg);
    border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-top: 6px;
  }
  #input:focus { outline: none; box-shadow: var(--focus-ring); border-color: var(--teal-300); }
  
  #send {
    margin-top: 8px; background: var(--accent); color: var(--accent-contrast);
    border: 0; padding: 10px 12px; border-radius: 8px; cursor: pointer; font-weight: 600;
  }
  #send:hover { background: var(--teal-700); }
  #send:focus { outline: none; box-shadow: var(--focus-ring); }
  
  /* Cards & KPIs */
  .card {
    background: var(--card); border: 1px solid var(--border);
    border-radius: 12px; padding: 12px; margin-bottom: 12px;
  }
  .card h3 { margin: 0 0 8px; color: var(--fg); }
  
  .grid { display: grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 10px; }
  .kpi {
    background: var(--teal-50); border: 1px solid var(--border);
    border-radius: 10px; padding: 12px;
  }
  .kpi .label { font-size: 12px; color: var(--muted); }
  .kpi .value { font-weight: 700; margin-top: 6px; color: var(--fg); }
  
  /* Responsive */
  @media (max-width: 1100px) {
    main { grid-template-columns: 1fr; }
    #left, #right { height: auto; }
  }

  /* charts */
canvas { background: #fff; border: 1px solid var(--border); border-radius: 10px; padding: 6px; }
/* 2 × 2 charts layout */

.charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;     /* two columns */
    grid-auto-rows: 220px;              /* row height; adjust if needed */
    gap: 12px;
  }
  
  /* Make canvases fill grid cells nicely */
  .charts-grid canvas {
    width: 100%;
    height: 100%;
    display: block;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 6px;
  }
  
  /* On smaller screens, stack charts to one column */
  @media (max-width: 1200px) {
    .charts-grid {
      grid-template-columns: 1fr;       /* one column */
      grid-auto-rows: 200px;
    }
  }
  
  /* 2×2 charts layout tuned to avoid overlap */
.charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;  /* two columns */
    gap: 12px;
  }
  
  /* Each chart cell with a controlled height */
  .chart-card {
    background: #fff;
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 6px;
    /* Height budget for each chart cell: adjust 210–260px as needed to fit the column */
    min-height: 210px;
    height: 210px;
    display: flex;
    align-items: stretch;
  }
  
  /* Canvas fills the card; Chart.js will be responsive (maintainAspectRatio:false) */
  .chart-card canvas {
    width: 100% !important;
    height: 100% !important;
    display: block;
  }
  
  /* On smaller widths, stack charts 1-column */
  @media (max-width: 1200px) {
    .charts-grid { grid-template-columns: 1fr; }
    .chart-card { height: 200px; min-height: 200px; }
  }
  